ages
mean(ages)
bias_var <- sum((ages - mean(ages))^2)/8
bias_var
bias_var <- sum((ages - mean(ages))^2)/30
bias_Var
bias_var
sqrt(19.65/30)*1.96
x <- c(3,4,5)
y <- c(7,8,9)
cor(x,y)
pop <- c(1, 2, 3, 4)
sample <- c( 1, 1.5, 2, 2.5, 1.5, 2, 2.5, 3, 2, 2.5, 3, 3.5, 2.5, 3, 3.5, 4)
sample
var(pop)
sqrt(5)/2
pop^2
sum((pop - mean(pop))^2)
5/4
sqrt(5/4)
sum((sample - mean(sample))^2)
sum((sample - mean(sample))^2)/16
sqrt(sum((sample - mean(sample))^2)/16)
sqrt(5/4)/sqrt(16)
SE <- sqrt(sum((sample - mean(sample))^2)/16)
sqrt(5/4)
sigma <- sqrt(5/4)
sigma / se
sigma / SE
sqrt(2)
pop <- c(1,2,3,4,5,6)
sum((pop - mean(pop))^2)/6
sqrt(sum((pop - mean(pop))^2)/6)/sqrt(2)
1.7078/sqrt(5)
3.49/sqrt(5)
40 - 2*2.71
40+2*2.71
40 - 1.96*2.71
40+1.96*2.71
40-1.96*1.01
40+1.96*1.01
40-2.33*1.01
40+2.33*1.01
std
std <- .107
SE <- std/sqrt(20)
SE
.13 + 1.96 * SE
.13 - 1.96 * SE
.64 / sqrt(20)
.73 / sqrt(20)
SEe <- .64 / sqrt(20)
SEl <- .73 / sqrt(20)
(8.94 - 7.5)/See
(8.94 - 7.5)/SEe
(8.35 - 8.2)/SEl
1-8212
1-.8212
10 / sqrt(25)
1.96 * 2
75 - 3.92
75 + 3.92
8 + 9 + 12 + 13 + 14 + 16
sample <- c(8, 9, 12, 13, 14, 16)
average(sample)
mean(sample)
2.8/sqrt(6)
SE <- 2.8/sqrt(6)
12 - 1.96 * SE
12 + 1.96 * SE
mu <- 180
sigma <- 18
SE <- 18/sqrt(9)
SE
(175 - mu)/SE
2.57 * SE
175 - 15.42
175 + 15.42
7.5 - 7.13
0.37 / 0.64
0.37 / (0.64/sqrt(20))
8.307.47
8.3 - 7.47
(8.3 - 7.47)/(2.31 / sqrt(30))
(8.3 - 7.47)/(2.41 / sqrt(30))
(8.3 - 7.47)/(2.41 / sqrt(50))
1-.9927
.0073 * 2
(7.8 - 7.47)/(2.41/sqrt(30))
(8.3 - 7.47)/(2.41/sqrt(30))
.360/sqrt(16)
22.793 - 22.965
(22.793 - 22.965)/(.09)
230/sqrt(5)
SE <- 230/sqrt(5)
(9640 - 7895)/SE
sample <- c(5, 19, 11, 23, 12, 7, 3, 21)
(mean(sample) - 10)/(sd(sample)/sqrt(8))
(1700 - 1830) / (200/sqrt(25))
(1700 - 1830) / (200)
1700 - (200/sqrt(25)) * 2.064
1700 + (200/sqrt(25)) * 2.064
(200/sqrt(25)) * 2.064
1700 + (200/sqrt(100)) * 2.064
(200/sqrt(100)) * 2.064
(200/sqrt(100)) * 1.984
1.646
[q]
[1]
1.2^2 + 2.7^2
sqrt(8.73)
t_crit <- 1.646
mu <- 9
std <- 2.95
9/(2.95/sqrt(1000))
mu <- 151
std <- 50
sem <- 50/sqrt(25)
-25 / sem
-25/std
-2.5^2 / (-2.5^2 + 24)
-2.5^2
2.5^2
(2.5^2) / (2.5^2 + 24)
1.711 * sem
2.064 * sem
151 - 20.64
151 + 20.64
126 - 20.64
126 + 20.64
pretest <- c(8, 7, 6, 9, 10, 5, 7, 11, 8, 7)
posttest <- c(5, 6, 4, 6, 5, 3, 2, 9, 4, 4)
differences <- prestest - posttest
differences <- pretest - posttest
differences
mean(pretest)
mean(posttest)
mean(differences)
differences <- posttest - pretest
tcrit <- -1.833
sem <- 1.33 / sqrt(10)
sem
mean(differences) / sem
tstat <- mean(differences) / sem
mean(pretest) - mean(posttest)
3 / 1.33
3 + 2.262 * sem
3 - 2.262 * sem
(33.5 - 31.2) / sqrt( (8.89)^2/6 + (10.16)^2/5 )
sqrt(31.36^2/7 + 34.27^2/11)
(33.14-18)/15.72
15.14 + 2.12 * 15.72
15.14 - 2.12 * 15.72
.96^2 / (.96^2 + 16)
5 + 6 + 1 + -4
8/ 4
x <- c(5, 6, 1, -4)
y <- c(3, 7, 8)
sum((x - mean(x))^2)
sum((y - mean(y))^2)
62+14
76/(3+2)
15.2/4 + 15.2/3
sqrt(15.2/4 + 15.2/3)
4/2.98
(481 + 322)/(206+219)
sp <- (481 + 322)/(206+219)
diff <- 35.8 - 31.6
se <- sqrt( sp^2/207 + sp^2/220 )
diff/se
diff
diff
diff/se
sp^2
sp^2/207
(sp^2)/207
sp^2/207 + sp^2/220
sqrt(0.033)
diff/.181
diff/se
sqrt(1/207 + 1/220)
diff/sp
sp <- (481+322)/(206+219)
sp
ssp <- sp^2
ssp
se <- sqrt( ssp/207 + ssp/220 )
se
se <- sqrt( (ssp/207 + ssp/220) )
se
dif
diff
diff <- 35.8 - 31.6
diff
diff/se
481/206
df <- 18
10-7
(10-7)/.94
(10-7)/2.33
3.19^2 / (3.19^2+18)
sp <- 0.13
ssp <- 0.13^2
ssp
se <- sqrt(ssp/18 + ssp/25)
se
3.8 - 2.1
1.7/se
se <- sqrt(sp/18 + sp/25)
se
3.8-2.1
1.7/se
481+322
sp <- 803/(207+220-2)
sp^2
ssp <- sp^2
se <- sqrt(ssp/207 + ssp/220)
diff/se
ssp
sp
(481+322)/(207+220-2)
se <- sqrt(sp/207 + sp/220)
diff/se
(481+322)/(207+220-2)
(481+322)/(207+220)
1/1.29
x <- c(2 ,-3,5,4,7)
y <- c(10, 13, 15, 10)
sum((x - mean(x))^2)
sum((y - mean(y))^2)
58+18
58+18/(4+3)
(58+18)/(4+3)
sp <- (58+18)/(4+3)
se <- sqrt(sp/5 + sp/4)
se
(mean(x) - mean(y))/se
json_file_business <- "yelp_academic_dataset_business.json"
json_file_review <- "yelp_academic_dataset_review.json"
json_file_user <- "yelp_academic_dataset_user.json"
library(rjson)
library(plyr)
library(dplyr)
library(tm)
setwd("C:/DataIncubatorChallengeQuestions/yelp_dataset_challenge_academic_dataset/")
con <- file(description=json_file_review, open="r")
con_business <- file(description=json_file_business, open="r")
for(i in 1:1000) {
n <- 100
lines <- readLines(con, n)
converted <- lapply(lines, fromJSON)
df_tmp <- ldply(converted, data.frame, stringsAsFactors=FALSE)
df <- plyr::rbind.fill(df, df_tmp)
print(i)
}
df <- data.frame()
for(i in 1:1000) {
n <- 100
lines <- readLines(con, n)
converted <- lapply(lines, fromJSON)
df_tmp <- ldply(converted, data.frame, stringsAsFactors=FALSE)
df <- plyr::rbind.fill(df, df_tmp)
print(i)
}
df_business <- data.frame()
for(i in 1:1000) {
n <- 100
lines <- readLines(con_business, n)
converted <- lapply(lines, fromJSON)
df_tmp <- ldply(converted, data.frame)
df_business <- plyr::rbind.fill(df_business, df_tmp)
print(i)
}
n <- 10000
lines <- readLines(con_business, n)
converted <- lapply(lines, fromJSON)
for(i in 1:1000) {
n <- 100
lines <- readLines(con, n)
converted <- lapply(lines, fromJSON)
df_tmp <- ldply(converted, data.frame, stringsAsFactors=FALSE)
df <- plyr::rbind.fill(df, df_tmp)
print(i)
}
close(con)
close(con_business)
gc()
con_business <- file(description=json_file_business, open="r")
n <- 10000
lines <- readLines(con_business, n)
converted <- lapply(lines, fromJSON)
length(converted)
list_of_businesses <- sapply(converted, "[[", "business_id")
head(list_of_businesses)
close(con_business)
head(df)
df$business_id %in% list_of_businesses
sum(df$business_id %in% list_of_businesses)
df$business_id[[1]]
df$business_id[[1]] %in% list_of_businesses
list_of_businesses <- sapply(converted, "[[", "business_id")
which(sapply(converted, "[[", "business_id") ==  "21hqlWgjmNgW4pBZJDuziQ")
corpus <- Corpus(VectorSource(df$text))
corpus <- tm_map(corpus, tolower)
corpus <- tm_map(corpus, PlainTextDocument)
corpus <- tm_map(corpus, removePunctuation)
corpus <- tm_map(corpus, removeWords, stopwords("english"))
corpus <- tm_map(corpus, stemDocument)
head(df$text)
typeof(df$text)
head(frequencies)
frequencies <- DocumentTermMatrix(corpus)
head(inspect(frequencies[, grepl("intim", frequencies$dimnames$Terms)]))
sum(inspect(frequencies[, grepl("intim", frequencies$dimnames$Terms)]))
sum(inspect(frequencies[, grepl("intim", frequencies$dimnames$Terms)]))
head(inspect(frequencies[, grepl("intim", frequencies$dimnames$Terms)]))
sum(inspect(frequencies[, grepl("intima", frequencies$dimnames$Terms)]))
head(inspect(frequencies[, grepl("date", frequencies$dimnames$Terms)]))
head(inspect(frequencies[, grepl("^date", frequencies$dimnames$Terms)]))
sum(inspect(frequencies[, grepl("^date", frequencies$dimnames$Terms)]))
head(inspect(frequencies[, grepl("^date", frequencies$dimnames$Terms)]))
library(ggplot2)
?geom_bar
?ggplot
keywords_hist['romant'] = sum(inspect(frequencies[, grepl("romant", frequencies$dimnames$Terms)]))
keywords_hist <- list()
keywords_hist['romant'] = sum(inspect(frequencies[, grepl("romant", frequencies$dimnames$Terms)]))
keywords_hist
keywords_hist['relax'] = sum(inspect(frequencies[, grepl("relax", frequencies$dimnames$Terms)]))
keywords_hist['excit'] = sum(inspect(frequencies[, grepl("excit", frequencies$dimnames$Terms)]))
keywords_hist['cozy'] = sum(inspect(frequencies[, grepl("cozy", frequencies$dimnames$Terms)]))
keywords_hist['prett'] = sum(inspect(frequencies[, grepl("prett", frequencies$dimnames$Terms)]))
keywords_hist['intima'] = sum(inspect(frequencies[, grepl("intima", frequencies$dimnames$Terms)]))
keywords_hist['advent'] = sum(inspect(frequencies[, grepl("advent", frequencies$dimnames$Terms)]))
keywords_hist['vegetarian'] = sum(inspect(frequencies[, grepl("vegetarian", frequencies$dimnames$Terms)]))
keywords_hist['date'] = sum(inspect(frequencies[, grepl("^date", frequencies$dimnames$Terms)]))
keywords_hist
head(inspect(frequencies[, grepl("prett", frequencies$dimnames$Terms)]))
?geom_bar
ggplot(keywords_hist) +
geom_bar(stat="identity")
data.frame(keywords_hist)
ggplot(data.frame(keywords_hist) +
ggplot(data.frame(keywords_hist)) +
geom_bar(stat="identity")
ggplot(data.frame(keywords_hist)) +
geom_bar(stat="identity")
data.frame
?data.frame
keywords_hist
?geom_hist
test_df <- data.frame(keywords_hist)
test_df
?t
t(test_df)
test_df <- t(test_df)
test_df
ggplot(test.df) +
geom_bar(stat="identity")
ggplot(test_df) +
geom_bar(stat="identity")
test_df <- data.frame(test_df)
test_df
ggplot(test_df) +
geom_bar(stat="identity")
colnames(test_df)
colnames(test_df) <- "count"
test_df
ggplot(test_df) +
geom_bar(aes(y=count), stat="identity")
geom_bar(aes(x=rownames(test_df), y=count), stat="identity")
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=count), stat="identity")
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=count), stat="identity")
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count)), stat="identity")
?geom_Bar
?geom_bar
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity")
ggplot(test_df) +
guides(color = FALSE)
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity") +
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity") +
guides(color = FALSE)
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity") +
guides(color = FALSE)
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity") +
xlab("Keywords") +
guides(color=FALSE) +
ylab("Log Count of Keyword Occurences")
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity") +
xlab("Keywords") +
guides(fill=FALSE) +
ylab("Log Count of Keyword Occurences")
date_places <- filter(df, grepl("date", text))
dim(date_places)
list_of_businesses
date_places <- filter(date_places, business_id %in% list_of_businesses)
date_places
dim(date_places)
dim(lines)
length(lines)
lines[c(TRUE, FALSE)]
converted
list_of_date_places <- unique(date_places$business_id)
length(lost_of_date_places)
length(list_of_date_places)
which(sapply(converted, "[[", "business_id") %in% list_of_date_places)
converted[which(sapply(converted, "[[", "business_id") %in% list_of_date_places)]
date_place_info <- converted[which(sapply(converted, "[[", "business_id") %in% list_of_date_places)]
length(date_place_info)
length(list_of_date_places)
converted[[1]]
date_place_categories <- sapply(converted, "[[", "categories")
head(date_place_categories)
date_place_categories <- lapply(converted, "[[", "categories")
date_place_categories
date_place_categories <- sapply(date_place_info, "[[", "categories")
date_place_categories <- lapply(date_place_info, "[[", "categories")
date_place_categories
date_place_categories <- sapply(date_place_info, "[[", "categories")
date_place_categories
unlist(date_place_categories)
unique(unlist(date_place_categories))
romant_places <- filter(df, grepl("romant", text))
romant_places <- filter(romant_places, business_id %in% list_of_businesses)
list_of_romant_places <- unique(romant_places$business_id)
romant_place_info <- converted[which(sapply(converted, "[[", "business_id") %in% list_of_romant_places)]
romant_place_categories <- sapply(romant_place_info, "[[", "categories")
unique(unlist(romant_place_categories))
num_date <- length(unique(unlist(date_place_categories)))
num_romant <- length(unique(unlist(romant_place_categories)))
?data.frame
categories_df <- data.frame(x = c("date", "romant"), y = c(num_date, num_romant))
categories_df
ggplot(categories_df) +
geom_bar(aes(x=x, y=y, fill="red"), stat="identity") +
guides(fill=FALSE) +
xlab("Keywords") +
ylab("Unique Categories Under Keyword")
setwd("C:/DataIncubatorChallengeQuestions/yelp_dataset_challenge_academic_dataset/")
test_df
json_file_business <- "yelp_academic_dataset_business.json"
json_file_review <- "yelp_academic_dataset_review.json"
con <- file(description=json_file_review, open="r")
setwd("C:/DataIncubatorChallengeQuestions/yelp_dataset_challenge_academic_dataset/")
con_business <- file(description=json_file_business, open="r")
df <- data.frame()
for(i in 1:10) {
lines <- readLines(con, n)
n <- 100
converted <- lapply(lines, fromJSON)
df_tmp <- ldply(converted, data.frame, stringsAsFactors=FALSE)
df <- plyr::rbind.fill(df, df_tmp)
}
n <- 10000
lines <- readLines(con_business, n)
converted <- lapply(lines, fromJSON)
close(con)
close(con_business)
corpus <- Corpus(VectorSource(df$text))
corpus <- tm_map(corpus, tolower)
corpus <- tm_map(corpus, PlainTextDocument)
corpus <- tm_map(corpus, removePunctuation)
corpus <- tm_map(corpus, removeWords, stopwords("english"))
corpus <- tm_map(corpus, stemDocument)
frequencies <- DocumentTermMatrix(corpus)
keywords_hist <- list()
keywords_hist['romant'] = sum(inspect(frequencies[, grepl("romant", frequencies$dimnames$Terms)]))
keywords_hist['relax'] = sum(inspect(frequencies[, grepl("relax", frequencies$dimnames$Terms)]))
keywords_hist['excit'] = sum(inspect(frequencies[, grepl("excit", frequencies$dimnames$Terms)]))
keywords_hist['cozy'] = sum(inspect(frequencies[, grepl("cozy", frequencies$dimnames$Terms)]))
keywords_hist['prett'] = sum(inspect(frequencies[, grepl("prett", frequencies$dimnames$Terms)]))
keywords_hist['intima'] = sum(inspect(frequencies[, grepl("intima", frequencies$dimnames$Terms)]))
keywords_hist['advent'] = sum(inspect(frequencies[, grepl("advent", frequencies$dimnames$Terms)]))
keywords_hist['vegetarian'] = sum(inspect(frequencies[, grepl("vegetarian", frequencies$dimnames$Terms)]))
keywords_hist['date'] = sum(inspect(frequencies[, grepl("^date", frequencies$dimnames$Terms)]))
test_df <- data.frame(keywords_hist)
test_df <- t(test_df)
test_df <- data.frame(test_df)
list_of_businesses <- sapply(converted, "[[", "business_id")
date_places <- filter(df, grepl("date", text))
date_places <- filter(date_places, business_id %in% list_of_businesses)
list_of_date_places <- unique(date_places$business_id)
date_place_info <- converted[which(sapply(converted, "[[", "business_id") %in% list_of_date_places)]
date_place_categories <- sapply(date_place_info, "[[", "categories")
num_date <- length(unique(unlist(date_place_categories)))
romant_places <- filter(df, grepl("romant", text))
romant_places <- filter(romant_places, business_id %in% list_of_businesses)
list_of_romant_places <- unique(romant_places$business_id)
romant_place_info <- converted[which(sapply(converted, "[[", "business_id") %in% list_of_romant_places)]
romant_place_categories <- sapply(romant_place_info, "[[", "categories")
num_romant <- length(unique(unlist(romant_place_categories)))
categories_df <- data.frame(x = c("date", "romant"), y = c(num_date, num_romant))
test_df
ggplot(test_df) +
geom_bar(aes(x=rownames(test_df), y=log(count), fill="red"), stat="identity") +
guides(fill=FALSE) +
xlab("Keywords") +
ylab("Log Count of Keyword Occurences")
colnames(test_df) <- "count"
test_df
?stemDocument
list_of_date_places <- unique(date_places$business_id)
date_place_categories
romant_place_categories
